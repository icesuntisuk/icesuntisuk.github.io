{% extends "layout.html" %}
{% block title %}‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ{% endblock %}
{% block content %}

<h3 class="mb-4">üßë‚Äçüíº ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</h3>

<form method="POST" class="row g-3 mb-4">
  <div class="col-md-4">
    <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
    <input type="text" name="username" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
    <input type="password" name="password" class="form-control" required>
    <div class="form-text text-danger">
      * ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ ‡πÅ‡∏•‡∏∞‡∏£‡∏ß‡∏° A-Z, a-z, ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç, ‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏©
    </div>
  </div>
  <div class="col-md-4">
    <label>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</label>
    <select name="role" class="form-select">
      <option value="user">User</option>
      <option value="admin">Admin</option>
    </select>
  </div>
  <div class="col-12">
    <button type="submit" class="btn btn-primary">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</button>
  </div>
</form>

<table class="table table-bordered table-hover">
  <thead class="table-light">
    <tr>
      <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
      <th>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</th>
      <th>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td>{{ user.username }}</td>
      <td>{{ user.role }}</td>
      <td>
        <a href="{{ url_for('edit_user', token=user.id | user_token) }}" class="btn btn-sm btn-warning">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>
        {% if user.username != 'admin' %}
        <a href="{{ url_for('delete_user', user_id=user.id) }}" class="btn btn-sm btn-danger"
           onclick="return confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')">‡∏•‡∏ö</a>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
